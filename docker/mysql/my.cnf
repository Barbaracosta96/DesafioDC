[mysqld]
# ── Buffer Pool ──────────────────────────────────────────────
# Cache for data + indexes: biggest single performance lever
innodb_buffer_pool_size         = 384M
innodb_buffer_pool_instances    = 2

# ── I/O Tuning ───────────────────────────────────────────────
innodb_flush_log_at_trx_commit  = 2     # flush every second (vs per-commit) — safe for dev
innodb_flush_method             = O_DIRECT
innodb_log_buffer_size          = 64M
innodb_io_capacity              = 400

# ── Query Cache & Temp Tables ────────────────────────────────
tmp_table_size                  = 64M
max_heap_table_size             = 64M

# ── Connections ──────────────────────────────────────────────
max_connections                 = 50
thread_cache_size               = 8

# ── Query Optimizer ──────────────────────────────────────────
join_buffer_size                = 4M
sort_buffer_size                = 4M
read_rnd_buffer_size            = 2M

# ── Slow Query Log (dev) ─────────────────────────────────────
slow_query_log                  = 1
slow_query_log_file             = /var/lib/mysql/slow.log
long_query_time                 = 1

# ── Character set ────────────────────────────────────────────
character-set-server            = utf8mb4
collation-server                = utf8mb4_unicode_ci
